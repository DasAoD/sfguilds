:root { color-scheme: dark light; }

body {
  font-family: system-ui, sans-serif;
  margin: 0;
}

/* Layout */
.wrap {
  max-width: 1900px;
  margin: 0 auto;
  padding: 16px;
}

.card {
  border: 1px solid rgba(127,127,127,.25);
  border-radius: 12px;
}

.brand { text-decoration: none; color: inherit; }
.nav a { margin-right: 12px; text-decoration: none; }

.muted { opacity: .7; }
.footer { opacity: .7; }

.list { list-style: none; padding: 0; margin: 0; }
.list li { padding: 10px 0; border-top: 1px solid rgba(127,127,127,.25); }
.list li:first-child { border-top: 0; }

.row { display: flex; justify-content: space-between; align-items: center; gap: 12px; }
.form { display: grid; gap: 8px; }

input, textarea, button {
  font: inherit;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid rgba(127,127,127,.35);
}

.btn { cursor: pointer; }
.btn.danger { border-color: rgba(255,0,0,.35); }

.box {
  padding: 12px;
  border-radius: 10px;
  border: 1px solid rgba(127,127,127,.25);
}

hr {
  border: 0;
  border-top: 1px solid rgba(127,127,127,.25);
  margin: 16px 0;
}

.notice { padding: 10px 12px; border-radius: 8px; margin: 10px 0; }
.notice.ok { border: 1px solid #2e7d32; }
.notice.err { border: 1px solid #c62828; }

.grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; }
@media (max-width: 800px) { .grid { grid-template-columns: 1fr; } }

/* Tables */
.table {
  width: 100%;
  border-collapse: collapse;
}

.table th, .table td {
  padding: 10px;
  border-bottom: 1px solid rgba(127,127,127,.25);
}

/* Flash-Messages */
.flash { padding: .5rem .75rem; border-radius: .5rem; margin: .75rem 0; }
.flash-ok { background: rgba(0, 180, 0, 0.12); }
.flash-err { background: rgba(255, 0, 0, 0.12); }

/* Excel-ähnliche Statusfarben (Zeilen) */
tr.row-fired td { background: rgba(255, 70, 70, 0.35); }   /* kräftiger rot */
tr.row-left  td { background: rgba(255, 175, 0, 0.34); }   /* kräftiger orange */
tr.row-note  td { background: rgba(90, 180, 255, 0.30); }  /* kräftiger blau */

/* Fett besser sichtbar */
tr.row-bold td {
  font-weight: 800;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.55);
}

/* kleiner Marker links (nur in der ersten Spalte) */
tr.row-bold td:nth-child(2) {
  box-shadow: inset 5px 0 0 rgba(255, 255, 255, 0.35);
  padding-left: 14px;
}

/* Links in farbigen Zeilen lesbar halten */
tr.row-fired a, tr.row-fired a:visited,
tr.row-left  a, tr.row-left  a:visited,
tr.row-note  a, tr.row-note  a:visited {
  color: inherit;
  text-decoration: underline;
}

/* --- Admin Members: Excel-Style Table --- */

/* Tabelle im "Kasten" halten + horizontal scrollen wenn nötig */
.table-wrap {
  overflow: auto;                 /* wichtig: auch vertikal scrollen */
  -webkit-overflow-scrolling: touch;
  max-height: calc(100vh - 320px); /* ggf. anpassen, je nach Header/Boxen */
  border-radius: 10px;
}

/* Excel-Feeling: fixe Spaltenbreiten */
.members-table {
  width: 100%;
  min-width: 1550px;
  table-layout: fixed;
}

/* Header: links, nicht umbrechen */
.members-table th {
  white-space: nowrap;
  text-align: left;
}

/* Zellen: nichts soll optisch in Nachbarspalten laufen */
.members-table td {
  white-space: nowrap;
  vertical-align: top;
  text-align: left;
  overflow: hidden;          /* verhindert "Überlappen" optisch */
  text-overflow: ellipsis;   /* wenn doch mal zu lang */
}

/* Diese Spalten zentriert (Level, Dates, Zahlen) – Header bleibt links */
.members-table td:nth-child(3),
.members-table td:nth-child(4),
.members-table td:nth-child(5),
.members-table td:nth-child(6),
.members-table td:nth-child(7),
.members-table td:nth-child(8),
.members-table td:nth-child(9),
.members-table td:nth-child(10) {
  text-align: center;
}

/* Notizen dürfen umbrechen (kein Ellipsis) */
.members-table td:nth-child(13) {
  white-space: normal;
  overflow: visible;
  text-overflow: initial;
}

/* Spaltenbreiten (schmaler für Zahlen/Datum, breiter für Notizen) */
.members-table th:nth-child(1),  .members-table td:nth-child(1)  { width: 4ch;  }  /* # */
.members-table th:nth-child(2),  .members-table td:nth-child(2)  { width: 16ch; }  /* Name */
.members-table th:nth-child(3),  .members-table td:nth-child(3)  { width: 5ch;  }  /* Level */
.members-table th:nth-child(4),  .members-table td:nth-child(4)  { width: 11ch; }  /* Zul. Online */
.members-table th:nth-child(5),  .members-table td:nth-child(5)  { width: 11ch; }  /* Gildenbeitritt */
.members-table th:nth-child(6),  .members-table td:nth-child(6)  { width: 9ch;  }  /* Goldschatz */
.members-table th:nth-child(7),  .members-table td:nth-child(7)  { width: 9ch;  }  /* Lehrmeister */
.members-table th:nth-child(8),  .members-table td:nth-child(8)  { width: 9ch;  }  /* Ritterhalle */
.members-table th:nth-child(9),  .members-table td:nth-child(9)  { width: 9ch;  }  /* Gildenpet */
.members-table th:nth-child(10), .members-table td:nth-child(10) { width: 9ch;  }  /* Tage offline */
.members-table th:nth-child(11), .members-table td:nth-child(11) { width: 11ch; }  /* Entlassen */
.members-table th:nth-child(12), .members-table td:nth-child(12) { width: 11ch; }  /* Verlassen */
.members-table th:nth-child(13), .members-table td:nth-child(13) { width: 46ch; }  /* Notizen */
.members-table th:nth-child(14), .members-table td:nth-child(14) { width: 10ch; }  /* Button */

.members-table .rownum {
  text-align: right;
  opacity: .75;
  padding-right: 8px;
}

/* Sticky Tabellen-Header (Überschriften bleiben sichtbar beim Scrollen) */
.members-table thead th {
  position: sticky;
  top: 0;
  z-index: 5;
  background: rgba(18, 18, 22, 0.95);   /* dunkler Hintergrund, damit nix durchscheint */
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,0.12);
}

/* Inputs/Textareas in der Tabelle:
   - gleiche Höhe für Datum + Notizen
   - kein Layoutsprung, kein Überlappen
*/
.members-table input,
.members-table textarea {
  width: 100%;
  box-sizing: border-box;
  height: 2.25rem;
  padding: 0.35rem 0.5rem;
  line-height: 1.2;
}

/* Notizen: Start klein, aber noch vergrößerbar */
.members-table textarea {
  min-height: 2.25rem;
  resize: vertical;
}
.crest-col { width: 46px; }

.crest-mini {
  height: 34px;
  width: 34px;
  object-fit: contain;
  border-radius: 8px;
  display: block;

  /* bessere Lesbarkeit auf dunklem Hintergrund */
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.35);
  background: rgba(255, 255, 255, 0.06);
  padding: 2px;
}

.crest-mini:hover {
  border-color: rgba(255, 255, 255, 0.35);
  background: rgba(255, 255, 255, 0.10);
}

/* Guilds-Liste: nicht auf volle Breite ziehen */
.table.guilds-table {
  width: auto;
  table-layout: auto;
}

.table-wrap .guilds-table { margin: 0 auto; }

/* Optional: damit Texte nicht umbrechen */
.table.guilds-table td,
.table.guilds-table th {
  white-space: nowrap;
}

.guilds-card{
  width: fit-content;
  max-width: 100%;
  margin: 0 auto;
}

.guilds-title{
  text-align: center;
  margin-top: 0;
}

/* Login kompakt halten */
.login-card{
  max-width: 520px;
  margin: 0 auto;
}

/* optional: ein bisschen Luft */
.login-card h2{
  text-align: center;
  margin-top: 0;
}

/* Login: sauber untereinander */
.login-form{
  margin-top: 1rem;
  max-width: 520px;
  margin-left: auto;
  margin-right: auto;
  display: grid;
  gap: 14px;
}

/* egal wie du die Labels gebaut hast: Block + Abstand */
.login-form label{
  display: block;
  margin: 0;
}

/* wenn du <label>Text <input></label> nutzt, Input unter Text */
.login-form label input{
  display: block;
  width: 100%;
  box-sizing: border-box;
  margin-top: 6px;
}

/* wenn du .row nutzt: auch untereinander */
.login-form .row{
  display: grid;
  grid-template-columns: 1fr;
  gap: 6px;
}

/* Inputs generell */
.login-form input[type="text"],
.login-form input[type="password"]{
  display: block;
  width: 100%;
  box-sizing: border-box;
}

/* Button volle Breite */
.login-form button,
.login-form input[type="submit"]{
  width: 100%;
  margin-top: 6px;
}

/* Mobile-Block nicht mehr nötig (kann weg bleiben) */


.admin-card{
  max-width: 980px;
  margin: 0 auto;
}

/* Admin Layout: sauberes Grid + Actions */
.admin-form .admin-grid,
.edit-form .admin-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px 18px;
  align-items: end;
}

.admin-form label,
.edit-form label{
  display: grid;
  gap: 6px;
}

.admin-actions{
  margin-top: 14px;
  display: flex;
  gap: 10px;
  justify-content: flex-start;
}

/* Edit-Block optisch absetzen */
.edit-row td{
  padding-top: 14px;
  padding-bottom: 14px;
}
.edit-form{
  padding: 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.02);
}

/* Buttons vereinheitlichen */
.btn{
  display: inline-block;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.18);
  text-decoration: none;
  line-height: 1.2;
}

.btn-secondary{
  background: rgba(255,255,255,0.04);
}

/* Mobile: untereinander */
@media (max-width: 820px){
  .admin-form .admin-grid,
  .edit-form .admin-grid{
    grid-template-columns: 1fr;
  }
}


/* Admin-Seite – Zweispaltiges Layout */
.admin-grid {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 24px;
align-items: flex-start;
}

.admin-col {
display: flex;
flex-direction: column;
gap: 24px;
}

/* Tabellen besser lesbar */
.table-wrap {
overflow-x: auto;
}

.table-wrap table {
width: 100%;
border-collapse: collapse;
min-width: 600px;
}

.table-wrap th, .table-wrap td {
padding: 6px 8px;
text-align: left;
}

.table-wrap th {
background: rgba(255,255,255,0.06);
font-weight: 600;
}

.actions {
white-space: nowrap;
}

.btn.small, button.small {
font-size: 0.85rem;
padding: 4px 8px;
}

button.danger, .btn.danger {
background-color: #a94442;
}

button.danger:hover, .btn.danger:hover {
background-color: #c9302c;
}

/* Responsive: untereinander ab 900px */
@media (max-width: 900px) {
.admin-grid {
grid-template-columns: 1fr;
}
}

/* Admin: Gilde anlegen – Felder als 2x2, Label links / Input rechts */
.guild-form-grid{
  margin-bottom: 12px;
}

.guild-form-grid .field{
  display: grid;
  grid-template-columns: max-content 1fr;
  gap: 10px;
  align-items: center;
}

.guild-form-grid .field label{
  margin: 0;
  white-space: nowrap;
}

.guild-form-grid .field input,
.guild-form-grid .field textarea{
  width: 100%;
  box-sizing: border-box;
}

.guild-form-grid .field textarea{
  min-height: 42px; /* ungefähr Input-Höhe */
}

/* sehr schmale Screens: Label über dem Feld */
@media (max-width: 520px){
  .guild-form-grid .field{
    grid-template-columns: 1fr;
    align-items: stretch;
  }
  .guild-form-grid .field label{
    white-space: normal;
  }
}

/* Header Layout: links Titel+Nav, rechts Logo */
.header{
  display: flex;
  align-items: center;
  justify-content: flex-start; /* statt space-between */
  gap: 16px;
}

.header-left h1{
  margin: 0;
}

.header-right{
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  text-decoration: none;
  margin-left: 12px; /* Abstand neben Titel/Nav */
}

.sf-logo{
  height: 84px;
  width: auto;
  display: block;
}

/* Auf kleinen Screens Logo etwas kleiner, damit nix umbricht */
@media (max-width: 600px){
  .sf-logo{ height: 84px; }
}

/* Error pages: 2-column layout (image left, text right) */
.error-layout {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  margin: 1rem 0;
}

.error-media {
  flex: 0 0 270px;          /* linke Spalte */
  display: flex;
  justify-content: flex-start;
}

.error-media img {
  width: 270px;
  max-width: 100%;
  height: auto;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}

.error-text {
  flex: 1 1 auto;           /* rechte Spalte */
  margin: 0;
}

/* Responsive: untereinander auf schmalen Screens */
@media (max-width: 900px) {
  .error-layout {
    flex-direction: column;
  }
  .error-media {
    flex: 0 0 auto;
  }
  .error-media img {
    width: 100%;
    max-width: 520px;
  }
}
